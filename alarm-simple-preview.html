<!DOCTYPE html>
<html>
<head>
    <title>Simple Alarm Patterns</title>
    <style>
        body {
            font-family: monospace;
            max-width: 600px;
            margin: 50px auto;
            background: #1a1a1a;
            color: #0f0;
            padding: 20px;
        }
        button {
            background: #0f0;
            color: #000;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-family: monospace;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover { background: #0d0; }
        button:active { background: #090; }
        .status {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #0f0;
        }
        h1 { color: #0f0; }
        .pattern {
            background: #222;
            padding: 10px;
            margin: 10px 0;
            border-left: 3px solid #0f0;
        }
    </style>
</head>
<body>
    <h1>⏰ Smart Alarm Options - Will Actually Wake You</h1>
    
    <div class="pattern">
        <strong>1. FAIRY FOUNTAIN:</strong> Zelda harp (3 phases × 3 cycles, ~16s) - FINAL VERSION ✓<br>
        &nbsp;&nbsp;&nbsp;Phase 1: B4→E5→A5→B5 (warm harp) | Phase 2: Faster | Phase 3: B5→E6→A6→B6 (urgent)<br>
        <strong>2. FALLOUT LEVEL-UP:</strong> Victory fanfare alarm (C→E→G→C triumphant)<br>
        <strong>3. ASCENDING SCALE:</strong> C→D→E→F→G (classic alarm pattern)<br>
        <strong>4. SOFT CHIME:</strong> E→A→E (bell alarm)<br>
        <strong>5. MORNING RISE:</strong> G→B→D→G (major chord alarm)<br>
        <strong>6. TWO-TONE:</strong> A→E (simple urgent alarm)
    </div>

    <button onclick="playFairyFountain()">▶ 1. Fairy Fountain</button>
    <button onclick="playFallout()">▶ 2. Fallout</button>
    <button onclick="playAscending()">▶ 3. Ascending</button>
    <button onclick="playChime()">▶ 4. Chime</button>
    <button onclick="playMorning()">▶ 5. Morning</button>
    <button onclick="playTwoTone()">▶ 6. Two-Tone</button>
    <button onclick="stopAll()">⏹ Stop</button>

    <div class="status" id="status">Ready. Click a button to preview.</div>

    <script>
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let currentTimeout = null;
        let scheduledNotes = [];

        const notes = {
            C4: 261.63, D4: 293.66, E4: 329.63, F4: 349.23, G4: 392.00, A4: 440.00, B4: 493.88,
            C5: 523.25, D5: 587.33, E5: 659.25, F5: 698.46, G5: 783.99, A5: 880.00, B5: 987.77,
            C6: 1046.50, D6: 1174.66, E6: 1318.51, G6: 1567.98, A6: 1760.00, B6: 1975.53
        };

        function playTone(frequency, duration, startTime, volume = 0.5) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'square'; // Match watch buzzer
            
            gainNode.gain.setValueAtTime(0, startTime);
            gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.005);
            gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration);
            
            oscillator.start(startTime);
            oscillator.stop(startTime + duration);
            
            scheduledNotes.push(oscillator);
        }

        function playFairyFountain() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 1. Fairy Fountain (3-phase alarm, repeats 3x)';
            
            let time = audioContext.currentTime + 0.1;
            const unit = 0.04; // ~40ms per unit
            
            // Repeat the entire alarm sequence 3 times
            for (let repeat = 0; repeat < 3; repeat++) {
                // Phase 1: Dreamy harp (B4-E5-A5-B5) — warm lower octave
                for (let cycle = 0; cycle < 2; cycle++) {
                    playTone(notes.B4, 10*unit, time, 0.5); time += 10*unit;
                    time += 2*unit;
                    playTone(notes.E5, 10*unit, time, 0.5); time += 10*unit;
                    time += 2*unit;
                    playTone(notes.A5, 10*unit, time, 0.5); time += 10*unit;
                    time += 2*unit;
                    playTone(notes.B5, 10*unit, time, 0.55); time += 10*unit;
                    time += 2*unit;
                }
                
                // Phase 2: Building tempo
                for (let cycle = 0; cycle < 2; cycle++) {
                    playTone(notes.B4, 6*unit, time, 0.6); time += 6*unit;
                    time += 1*unit;
                    playTone(notes.E5, 6*unit, time, 0.6); time += 6*unit;
                    time += 1*unit;
                    playTone(notes.A5, 6*unit, time, 0.6); time += 6*unit;
                    time += 1*unit;
                    playTone(notes.B5, 6*unit, time, 0.65); time += 6*unit;
                    time += 1*unit;
                }
                
                // Phase 3: Urgent octave jump (B5-E6-A6-B6)
                for (let cycle = 0; cycle < 2; cycle++) {
                    playTone(notes.B5, 3*unit, time, 0.7); time += 3*unit;
                    time += 1*unit;
                    playTone(notes.E6, 3*unit, time, 0.7); time += 3*unit;
                    time += 1*unit;
                    playTone(notes.A6, 3*unit, time, 0.7); time += 3*unit;
                    time += 1*unit;
                    playTone(notes.B6, 3*unit, time, 0.75); time += 3*unit;
                    time += 1*unit;
                }
                
                // Pause between repetitions (except after last)
                if (repeat < 2) {
                    time += 10*unit;
                }
            }
            
            finishTimeout(17000);
        }

        function playFallout() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 2. Fallout Level-Up (Victory fanfare alarm)';
            
            let time = audioContext.currentTime + 0.1;
            const unit = 0.04;
            
            // Triumphant C-E-G-C fanfare, repeating and accelerating
            // Cycle 1: Opening fanfare (8-1-8-1-8-1-14-3)
            playTone(notes.C5, 8*unit, time, 0.5); time += 8*unit;
            time += 1*unit;
            playTone(notes.E5, 8*unit, time, 0.5); time += 8*unit;
            time += 1*unit;
            playTone(notes.G5, 8*unit, time, 0.55); time += 8*unit;
            time += 1*unit;
            playTone(notes.C6, 14*unit, time, 0.6); time += 14*unit;
            time += 3*unit;
            
            // Cycle 2: Faster (6-6-6-12-2)
            playTone(notes.C5, 6*unit, time, 0.6); time += 6*unit;
            playTone(notes.E5, 6*unit, time, 0.6); time += 6*unit;
            playTone(notes.G5, 6*unit, time, 0.65); time += 6*unit;
            playTone(notes.C6, 12*unit, time, 0.7); time += 12*unit;
            time += 2*unit;
            
            // Cycle 3: Faster still (5-5-5-10-1)
            playTone(notes.C5, 5*unit, time, 0.7); time += 5*unit;
            playTone(notes.E5, 5*unit, time, 0.7); time += 5*unit;
            playTone(notes.G5, 5*unit, time, 0.72); time += 5*unit;
            playTone(notes.C6, 10*unit, time, 0.75); time += 10*unit;
            time += 1*unit;
            
            // Cycle 4: Urgent (4-4-4-16 - final long note)
            playTone(notes.C5, 4*unit, time, 0.75); time += 4*unit;
            playTone(notes.E5, 4*unit, time, 0.75); time += 4*unit;
            playTone(notes.G5, 4*unit, time, 0.78); time += 4*unit;
            playTone(notes.C6, 16*unit, time, 0.8); // Victory sustained!
            
            finishTimeout(3000);
        }

        function playAscending() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 3. Ascending Scale (C-D-E-F-G)';
            
            let time = audioContext.currentTime + 0.1;
            const scale = [notes.C5, notes.D5, notes.E5, notes.F5, notes.G5];
            
            // Slow
            scale.forEach((note, i) => playTone(note, 0.5, time + (i * 0.6)));
            time += 3.5;
            
            // Medium
            scale.forEach((note, i) => playTone(note, 0.4, time + (i * 0.45)));
            time += 2.5;
            
            // Fast
            scale.forEach((note, i) => playTone(note, 0.3, time + (i * 0.35)));
            
            finishTimeout(7000);
        }

        function playChime() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 4. Soft Chime (E-A-E)';
            
            let time = audioContext.currentTime + 0.1;
            
            // Slow
            playTone(notes.E5, 0.6, time);
            playTone(notes.A5, 0.6, time + 0.8);
            playTone(notes.E6, 0.7, time + 1.6);
            time += 2.5;
            
            // Medium
            playTone(notes.E5, 0.5, time);
            playTone(notes.A5, 0.5, time + 0.6);
            playTone(notes.E6, 0.6, time + 1.2);
            time += 2;
            
            // Fast
            playTone(notes.E5, 0.4, time);
            playTone(notes.A5, 0.4, time + 0.5);
            playTone(notes.E6, 0.5, time + 1);
            
            finishTimeout(5500);
        }

        function playMorning() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 5. Morning Rise (G-B-D-G)';
            
            let time = audioContext.currentTime + 0.1;
            const pattern = [notes.G4, notes.B4, notes.D5, notes.G5];
            
            // Slow
            pattern.forEach((note, i) => playTone(note, 0.5, time + (i * 0.6)));
            time += 2.8;
            
            // Medium
            pattern.forEach((note, i) => playTone(note, 0.4, time + (i * 0.5)));
            time += 2.2;
            
            // Fast
            pattern.forEach((note, i) => playTone(note, 0.35, time + (i * 0.4)));
            
            finishTimeout(6000);
        }

        function playTwoTone() {
            stopAll();
            document.getElementById('status').textContent = 'Playing: 6. Two-Tone (A-E minimal)';
            
            let time = audioContext.currentTime + 0.1;
            
            // Slow
            playTone(notes.A4, 0.6, time);
            playTone(notes.E5, 0.6, time + 0.8);
            time += 1.8;
            
            playTone(notes.A4, 0.6, time);
            playTone(notes.E5, 0.6, time + 0.8);
            time += 1.8;
            
            // Medium
            playTone(notes.A4, 0.5, time);
            playTone(notes.E5, 0.5, time + 0.6);
            time += 1.3;
            
            playTone(notes.A4, 0.5, time);
            playTone(notes.E5, 0.5, time + 0.6);
            time += 1.3;
            
            // Fast
            for (let i = 0; i < 4; i++) {
                playTone(notes.A4, 0.35, time + (i * 0.4));
                playTone(notes.E5, 0.35, time + (i * 0.4) + 0.4);
            }
            
            finishTimeout(7000);
        }

        function finishTimeout(ms) {
            currentTimeout = setTimeout(() => {
                document.getElementById('status').textContent = 'Ready. Click a button to preview.';
            }, ms);
        }

        function stopAll() {
            scheduledNotes.forEach(osc => {
                try { osc.stop(); } catch(e) {}
            });
            scheduledNotes = [];
            if (currentTimeout) {
                clearTimeout(currentTimeout);
                currentTimeout = null;
            }
            document.getElementById('status').textContent = 'Ready. Click a button to preview.';
        }
    </script>
</body>
</html>
